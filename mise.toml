experimental_monorepo_root = true
monorepo.config_roots = ["packages/*"]

[settings]
task_show_full_cmd = true

[tools]
bun = "1.3.6"
lefthook = "2.0.15"

[hooks]
postinstall = "lefthook install"

[tasks."gha:lint"]
tools.actionlint = "1.7.10"
tools.ghalint = "1.5.4"
run = ["actionlint", "ghalint act"]

[task_templates.check]
usage = 'arg "[files]" var=#true'
run = [
  "bunx --bun tsc",
  "bunx --bun biome check --error-on-warnings ${usage_files}",
]

[task_templates.fix]
usage = 'arg "[files]" var=#true'
run = "bunx --bun biome check --write ${usage_files}"

[task_templates.test]
usage = 'arg "[files]" var=#true'
run = "bunx --bun vitest run ${usage_files}"
